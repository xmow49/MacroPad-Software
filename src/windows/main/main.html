<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <link href="css/main.css" rel="stylesheet">
    <link href="css/connectMacropadPopup.css" rel="stylesheet">
    <link href="css/selectMacropadPopup.css" rel="stylesheet">
    <link href="css/profileEditor.css" rel="stylesheet">
    <link href="css/overview.css" rel="stylesheet">
    <link href="css/settings.css" rel="stylesheet">
    <link href="css/loader.css" rel="stylesheet">

    <!--  materialdesignicons 6.4.95  -->
    <link rel="stylesheet" href="downloaded_contents/materialdesignicons.css" />
    <link rel="stylesheet" href="downloaded_contents/colorPicker.css" />
    <script src="main.js"></script>

</head>

<body class="light-mode">
    <header>

        <div class="title-container">
            <div class="logo">
                <img src="../../imgs/icon.png" alt="logo" width="15px" style="cursor: unset;">
            </div>
            <h1 class="software-title">MacroPad
                <a id="macropad-id"></a>
            </h1>
        </div>

        <div class="navbar-buttons-container">
            <button class="navbarButton closeBtn" onclick="closeBtn()"><svg  width="12" height="12" viewBox="0 0 12 12" fill="none">
                <path d="M12 1.20857L10.7914 0L6 4.79143L1.20857 0L0 1.20857L4.79143 6L0 10.7914L1.20857 12L6 7.20857L10.7914 12L12 10.7914L7.20857 6L12 1.20857Z" fill="#3C3C3C"/>
                </svg></button>
            <!-- <button class="navbarButton max-minBtn" onclick="minimizeWindowBtn()"><svg width="15" height="15" viewBox="0 0 15 15" fill="none">
                    <path d="M13.6364 12.2727H15L15 1.36364C15 0.613636 14.3864 0 13.6364 0L2.72727 0L2.72727 1.36364L13.6364 1.36364L13.6364 12.2727ZM1.36364 15L10.9091 15C11.6591 15 12.2727 14.3864 12.2727 13.6364L12.2727 4.09091C12.2727 3.34091 11.6591 2.72727 10.9091 2.72727L1.36364 2.72727C0.613636 2.72727 0 3.34091 0 4.09091L0 13.6364C0 14.3864 0.613636 15 1.36364 15ZM1.36364 4.09091L10.9091 4.09091L10.9091 13.6364L1.36364 13.6364L1.36364 4.09091Z" fill="#3C3C3C"/>
                    </svg></button> -->
            <button class="navbarButton resuceBtn" onclick="minimizeBtn()"><svg width="12" height="2" viewBox="0 0 12 2" fill="none">
                <path d="M12 2H0V0H12V2Z" fill="#3C3C3C" />
                </svg></button>
        </div>


    </header>

    <div id="app-container">
        <div class="backgroud-vector"></div>

        <div class="overview">
            <div id="normal-view">
                <div class="top">
                    <div class="left">
                        <div class="connect">
                            <button id="connect-status-button" onclick="connectPopup();">Déconnecté <span id="connect-status" class="offline"></span></button>
                        </div>
                        <div class="loader" id="scan-loading">
                            <svg class="circular" viewBox="25 25 50 50">
                              <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>
                            </svg>
                        </div>
                    </div>


                    <div id="edit">
                        <button onclick="editProfilePopup();" style="height: 50px;">
                            <div>
                                <div id="edit-button" class="horizontal-flex">
                                    <span class="mdi mdi-pencil"></span><h2 id="profile-editor-toggle">Modifier</h2>
                                </div>
                                <div id="back-button" class="horizontal-flex">
                                    <span class="mdi mdi-close"></span><h2 id="profile-editor-toggle">Retour</h2>
                                </div>
                                
                            </div>
                        </button>
                    </div>

                </div>
                <div class="settings ui-corner-button">
                    <button onclick="toggleSettings();"><span class="mdi mdi-cog-outline"></span></button>
                </div>

                <div class="send ui-corner-button">
                    <svg id="send-loading" class="circular" viewBox="25 25 50 50">
                        <circle class="path" cx="50" cy="50" r="15" fill="none" stroke-width="2" stroke-miterlimit="10"></circle>
                    </svg>
                    <button id="send" onclick="sendConfig();">
                        <span id="send-button" class="visible mdi mdi-send"></span>
                        <span id="send-ok" class="mdi mdi-check"></span>
                        <span id="send-error" class="mdi mdi-alert-circle"></span>

                    </button>
                </div>
            </div>


            <div class="editor-menu">
                <div id="left" class="profile-editor">
                    <div id="profile-editor-actions">
                        <h3 class="editor-title">Profil</h3>
                        <!-- <select onchange="changeProfile();" name="" id="profile-editor-selector">
                        <option value="0">Profil 1</option select>
                        <option value="1">Profil 2</option>
                        <option value="2">Profil 3</option>
                        <option value="3">Profil 4</option>
                        <option value="4">Profil 5</option>
                        <option value="5">Profil 6</option>
                    </select> -->
                        <!-- <button>Annuler</button>
                    <button>Enregistrer</button> -->

                    </div>


                    <h3>Nom: <input type="text" id="profile-name" onfocusout="saveProfileName();" maxlength="10"></h3>
                    <div id="icon-profile-picker">
                        <h3>Icon:</h3>
                        <span class="mdi" id="profile-icon-preview"></span>
                        <input type="text" id="profile-icon-name" oninput="updateProfileIconPreview(false);" onfocusout="updateProfileIconPreview(true);">
                    </div>

                    <div>
                        <div class="profile-color-title">
                            <h3>Couleur du Profil </h3>
                            <button id="color-picker" class="color-picker" id="color-picker">toto</button>
                        </div>
                        <div class="profile-color-picker"></div>

                    </div>


                    <h3>Affichage</h3>
                    <div id="display-selector">
                        <div class="display-radio">
                            <input type="radio" name="display-text-selector" id="display-text-0" value="0" onchange="displayTypeSelected()">
                            <label for="display-text-0">Titre Musique</label>
                        </div>

                        <div class="display-radio">
                            <input type="radio" name="display-text-selector" id="display-text-1" value="1" onchange="displayTypeSelected()" checked>
                            <label for="display-text-1">Nom du Profil</label>
                        </div>
                        <div class="display-radio">
                            <input type="radio" name="display-text-selector" id="display-text-2" value="2" onchange="displayTypeSelected()">
                            <label for="display-text-2">Date / Heures</label>
                        </div>
                        <div class="display-radio">
                            <input type="radio" name="display-text-selector" id="display-text-3" value="3" onchange="displayTypeSelected()">
                            <div id="display-div-custom">
                                <label for="display-text-3">Text personnalisé</label>
                                <input type="text" id="display-text-custom" placeholder="Votre text ici" maxlength="100" onfocus="document.getElementsByName('display-text-selector')[3].checked = true;" onfocusout="displayTypeSelected();">
                            </div>

                        </div>
                    </div>




                    </select>

                </div>

                <div id="macropad-container">
                    <div class="profile-selector" id="master-profile" onchange="onChangeProfile();">
                        <label id="profile-0"><span class="mdi"></span> <input type="radio" name="profile-selector" value="0" checked></label>
                        <label id="profile-1"><span class="mdi"></span> <input type="radio" name="profile-selector" value="1"></label>
                        <label id="profile-2"><span class="mdi"></span> <input type="radio" name="profile-selector" value="2"></label>
                        <label id="profile-3"><span class="mdi"></span> <input type="radio" name="profile-selector" value="3"></label>
                        <label id="profile-4"><span class="mdi"></span> <input type="radio" name="profile-selector" value="4"></label>
                        <label id="profile-5"><span class="mdi"></span> <input type="radio" name="profile-selector" value="5"></label>


                    </div>

                    <div id="macropad">
                        <div id="macropad-border">
                            <div id="macropad-display">
                                <h4 id="macropad-text">23:30</h4>

                            </div>
                            <div id="macropad-grid">
                                <button id="encoder0" class="encoder" onclick="onEditButton('encoder', 0);"><span id="encoderIcon0" class="mdi"></span></button>
                                <button id="encoder1" class="encoder" onclick="onEditButton('encoder', 1);"><span id="encoderIcon1" class="mdi"></span></button>
                                <button id="encoder2" class="encoder" onclick="onEditButton('encoder', 2);"><span id="encoderIcon2" class="mdi"></span></button>

                                <button id="key0" class="key" onclick="onEditButton('key', 0);"><span id="keyIcon0" class="mdi"><!--<p id="keyText0">--></p></span></button>
                                <button id="key1" class="key" onclick="onEditButton('key', 1);"><span id="keyIcon1" class="mdi"><!--<p id="keyText1">--></p></span></button>
                                <button id="key2" class="key" onclick="onEditButton('key', 2);"><span id="keyIcon2" class="mdi"><!--<p id="keyText2">--></p></span></button>
                                <button id="key3" class="key" onclick="onEditButton('key', 3);"><span id="keyIcon3" class="mdi"><!--<p id="keyText3">--></p></span></button>
                                <button id="key4" class="key" onclick="onEditButton('key', 4);"><span id="keyIcon4" class="mdi"><!--<p id="keyText4">--></p></span></button>
                                <button id="key5" class="key" onclick="onEditButton('key', 5);"><span id="keyIcon5" class="mdi"><!--<p id="keyText5">--></p></span></button>
                            </div>
                        </div>

                    </div>

                </div>

                <div id="right" class="profile-editor">
                    <h3 class="editor-title">Action</h3>

                    <!-- WIP -->
                    <!-- <div id="import-image">
                        
                        <button id="upload-icon">Importer un icon</button>
                        <div class="action-help">
                            <span class="mdi mdi-help-circle"></span>
                            <span class="text-action-help">Choisisez un icon qui va apparaître sur le profile et le Marcopad</span>
                        </div>
                    </div> -->

                    <!-- <h3 id="select-action-title">Selection des actions</h3> -->
                    <h4 id="current-edition">Cliquez sur une touche pour choisir une action</h4>

                    <div id="edit-encoder" class="disable">

                        <div class="action-selector" id="encoder-action-selector" onchange="updateEditGUI('encoder', -1);">
                            <label class="action-selector-1"><input type="radio" name="encoder-action-type" value="-1"><span class="mdi mdi-cancel"></span><span>Désactivé</span></label>
                            <label class="action-selector0"><input type="radio" name="encoder-action-type" value="0"><span class="mdi mdi-volume-source"></span><span>Volume</span></label>
                            <label class="action-selector1"><input type="radio" name="encoder-action-type" value="1"><span class="mdi mdi-monitor"></span><span>Logiciel</span></label>
                            <label class="action-selector2"><input type="radio" name="encoder-action-type" value="2"><span class="mdi mdi-pencil"></span><span>Custom</span></label>
                            <div class="action-help">
                                <span class="mdi mdi-help-circle"></span>
                                <span id="help-text" class="text-action-help">L'encoder va controler le volume principal du systeme. Lors d'un appuis, le son se mute.</span>
                            </div>
                        </div>

                        <!-- affichage pour chaque action-->
                        <div class="encoder-1">
                            <h4 class="encoder-action-info-text">Cet encoder est désactivé.</h4>
                        </div>


                        <div class="encoder0">
                            <h4 class="encoder-action-info-text">Cet encoder contrôle le volume principal du PC.</h4>
                        </div>

                        <div class="encoder1" style="margin-top: 20px;">
                            <h4 style="text-align: center;">Choisir un logiciel</h4>
                            <div id="software-div-selector">
                                <select id="software-volume-selector" oninput="saveAudioSoftware()"></select>
                                <button onclick="displayAllSoundSoftwaresInSelector();">Actualiser</button>
                            </div>
                        </div>

                        <div class="encoder2" class="disable">
                            <!-- encoder key turn left -->
                            <h3><span class="mdi mdi-rotate-left"></span> Rotation Gauche:</h3>
                            <div class="key-selector">
                                <label class="" id="encoder-edit-key-0" value="" onclick="startKeyCombinationCapture('encoder', 0, 1, this);"></label>
                                <button id="save-key-combination" onclick="stopKeyCombinationCapture();"><span class="mdi mdi-check"></span></button>
                            </div>

                            <!-- encoder key turn right -->
                            <h3><span class="mdi mdi-rotate-right"></span> Rotation Droite:</h3>
                            <div class="key-selector">
                                <label class="" id="encoder-edit-key-1" onclick="startKeyCombinationCapture('encoder', 1, 1, this);"></label>
                                <button id="save-key-combination" onclick="stopKeyCombinationCapture();"><span class="mdi mdi-check"></span></button>
                            </div>

                            <!-- encoder key press -->
                            <h3><span class="mdi mdi-bullseye"></span> Clic Encoder</h3>
                            <div class="key-selector">
                                <label class="" class="key-combination" id="encoder-edit-key-2" onclick="startKeyCombinationCapture('encoder', 2, 1, this);"></label>
                                <button id="save-key-combination" onclick="stopKeyCombinationCapture();"><span class="mdi mdi-check"></span></button>
                            </div>
                        </div>

                    </div>

                    <div id="edit-key" class="disable">

                        <div class="action-selector" id="key-action-selector" onchange="updateEditGUI('key', -1);">
                            <label class="action-selector-1"><input type="radio" name="key-action-type" value="-1"><span class="mdi mdi-cancel"></span><span>Désactivé</span></label>
                            <label class="action-selector0"><input type="radio" name="key-action-type" value="0"><span class="mdi mdi-keyboard"></span><span>Clavier</span></label>
                            <label class="action-selector1"><input type="radio" name="key-action-type" value="1"><span class="mdi mdi-microsoft-windows"></span><span>Système</span></label>
                            <label class="action-selector2"><input type="radio" name="key-action-type" value="2"><span class="mdi mdi-midi"></span><span>Midi</span></label>
                            <div class="action-help">
                                <span class="mdi mdi-help-circle"></span>
                                <span id="help-key-text" class="text-action-help">L'encoder va controler le volume principal du systeme. Lors d'un appuis, le son se mute.</span>
                            </div>
                        </div>



                        <!-- DISABLE -->
                        <div class="key-1" style="margin-top: 50px;">
                            <h4 class="key-action-info-text">Cette key est désactivée.</h4>
                        </div>

                        <!-- KEY COMBINATION -->
                        <div class="key0">
                            <h3>Combinaison de touches</h3>
                            <div class="key-selector">
                                <label class="" id="key-edit-combination" onclick="startKeyCombinationCapture('key', 0, 3, this);" f></label>
                                <button id="save-key-combination" onclick="stopKeyCombinationCapture();"><span class="mdi mdi-check"></span></button>
                            </div>
                        </div>

                        <div class="key1">
                            <div id="system-action">
                                <h3>Contrôle des Médias</h3>


                                <label for="play-pause"><input type="radio" id="play-pause" name="select-system-action" value="205" onclick="onChangeSystemAction(this)">Play/Pause</label>
                                <label for="vol-up"> <input type="radio" id="vol-up" name="select-system-action" value="233" onclick="onChangeSystemAction(this)">Volume +</label>
                                <label for="vol-down"> <input type="radio" id="vol-down" name="select-system-action" value="234" onclick="onChangeSystemAction(this)">Volume -</label>
                                <label for="mute"> <input type="radio" id="mute" name="select-system-action" value="226" onclick="onChangeSystemAction(this)">Mute</label>
                                <label for="next"><input type="radio" id="next" name="select-system-action" value="181" onclick="onChangeSystemAction(this)">Musique Suivante</label>
                                <label for="previous"> <input type="radio" id="previous" name="select-system-action" value="182" onclick="onChangeSystemAction(this)">Musique Précédente</label>
                                <label for="stop"><input type="radio" id="stop" name="select-system-action" value="183" onclick="onChangeSystemAction(this)">Musique Stop</label>
                                <label for="forward"><input type="radio" id="forward" name="select-system-action" value="179" onclick="onChangeSystemAction(this)">Avance Rapide</label>
                                <label for="rewind"><input type="radio" id="rewind" name="select-system-action" value="180" onclick="onChangeSystemAction(this)">Retour Arrière</label>

                                <h3>Application Système</h3>
                                <label for="mail"><input type="radio" id="mail" name="select-system-action" value="394" onclick="onChangeSystemAction(this)">Email</label>
                                <label for="calculator"><input type="radio" id="calculator" name="select-system-action" value="402" onclick="onChangeSystemAction(this)">Calculatrice</label>
                                <label for="explorer"><input type="radio" id="explorer" name="select-system-action" value="404" onclick="onChangeSystemAction(this)">Explorateur de Fichiers</label>

                                <h3>Controle du Navigateur</h3>
                                <label for="browser"><input type="radio" id="browser" name="select-system-action" value="547" onclick="onChangeSystemAction(this)">Ouvrir le navigateur par défaut</label>
                                <label for="browser-refresh"><input type="radio" id="browser-refresh" name="select-system-action" value="551" onclick="onChangeSystemAction(this)">Actualiser</label>
                                <label for="browser-back"> <input type="radio" id="browser-back" name="select-system-action" value="248" onclick="onChangeSystemAction(this)">Page Précédente</label>
                                <label for="browser-next"><input type="radio" id="browser-next" name="select-system-action" value="549" onclick="onChangeSystemAction(this)">Page Suivante</label>
                                <label for="browser-bookmarks">  <input type="radio" id="browser-bookmarks" name="select-system-action" value="554" onclick="onChangeSystemAction(this)">Ouvrir les Favoris</label>

                            </div>
                        </div>

                        <div class="key2">
                            <h3>Contrôle MIDI</h3>
                            <h4>Cette fonction n'est pas encore implémenté.</h4>

                        </div>


                    </div>
                </div>
            </div>
        </div>

        <div id="popup-container">
            <div id="popup-backgroud" class="disable" onclick="closeAllPopups();"></div>
            <div id="update-available" class="popup">

                <div class="text">
                    <h1>Mise à jour disponible</h1>
                    <p>Une mise à jour est disponible !</p>
                    <p>Merci d'effectuer la mise à jour rapidement.</p>
                    <p>Version actuelle: <a class="current version">1.0</a> </p>
                    <p>Nouvelle version: <a class="nex version">1.2</a></p>

                </div>
                <div class="actions">
                    <button onclick="updatePopupChanglogBtn();">Voir le changelog</button>
                    <button onclick="updatePopupSkipBtn();">Plus tard</button>
                    <button onclick="updatePopupUpdateBtn();">Mettre à jour</button>

                </div>

            </div>

            <div id="select-macropad" class="popup">
                <h2>Selectionnez votre MacroPad</h2>
                <div class="macropad-list">
                    <button id="0" onclick="selectMacropad(0);"><img  src="images/macropad1.png" alt="" width="200"></button>
                </div>
                <div class="actions">
                    <button>Ajouter un MacroPad</button>
                </div>
            </div>

            <div id="connect-macropad" class="popup">
                <h2>Connexion au MacroPad</h2>
                <button id="connect-button" onclick="scanSerialsPorts();">Rechercher un MacroPad</button>

                <p id="scan-port-log"></p>
                <progress id="port-scan-progress" class="progress" max="100" value="0"></progress>

                <div class="port-list" id="port-list">
                    <!-- JS -->
                </div>

                <!-- <div>
                    <h3>Nom du MacroPad</h3>
                    <div id="set-name">
                        <input type="text" id="macropad-name">
                    </div>

                </div> -->

                </select>

                <div class="actions">
                    <!-- <button onclick="connectPopupCancel();">Annuler</button> -->
                    <button onclick="connectPopupSave();">OK</button>
                </div>

            </div>

            <div id="settings" class="popup" style="display: none;">
                <div class="settings-head">
                    <h2 class="settings-title">Paramètres</h2>

                    <button class="close-settings" onclick="toggleSettings();"><span class="mdi mdi-close"></span></button>
                </div>

                <div class="settings-list">
                    <!-- language -->
                    <div id="language" class="settings-item" onclick="settingItemClicked(this)">
                        <h3>Langue</h3>
                        <select id="select-language" onchange="saveLanguage(this);">
                            <option value="fr">Français</option>
                            <!-- WIP -->
                            <!-- <option value="en">English</option> -->
                        </select>
                    </div>
                    <!-- DarkMode -->
                    <div id="dark-mode" class="settings-item switch-item" onclick="settingItemClicked(this)">
                        <h3>Mode sombre (BETA)</h3>
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider round"></span>
                          </label>
                    </div>
                    <!-- Background -->
                    <div id="background-start" class="settings-item switch-item" onclick="settingItemClicked(this)">
                        <div class="settings-menu-text">
                            <h3>Démarrage Automatique</h3>
                            <h4>Lancer le logiciel automatiquement en tache de fond au démarrage</h4>
                        </div>
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider round"></span>
                          </label>
                    </div>

                    <!-- Import -->
                    <div id="export-import-config" class="settings-item" onclick="settingItemClicked(this)">
                        <div class="settings-menu-text">
                            <h3>Exporter/Importer la Configuration</h3>
                            <h4>Sauvegarder/Restaurer tous les données du logiciel</h4>
                        </div>
                        <h1 class="mdi mdi-chevron-right"></h1>
                    </div>

                    <!-- Update -->
                    <div id="do-update" class="settings-item" onclick="settingItemClicked(this)">
                        <div class="settings-menu-text">
                            <h3>Mises à Jours</h3>
                            <h4>Obtenez la dernière version du Firmware et du logiciel</h4>
                        </div>
                        <h1 class="mdi mdi-chevron-right"></h1>
                    </div>


                    <!-- Reset -->
                    <div id="hard-reset" class="settings-item" onclick="settingItemClicked(this)">
                        <div class="settings-menu-text">
                            <h3>Réinitialiser le MacroPad</h3>
                            <h4>Efface tous les paramètres du logiciel et du MacroPad</h4>
                        </div>
                        <h1 class="mdi mdi-chevron-right"></h1>
                    </div>

                    <!-- About -->
                    <div id="about" class="settings-item" onclick="settingItemClicked(this)">
                        <div class="settings-menu-text">
                            <h3>À Propos</h3>
                        </div>
                        <h1 class="mdi mdi-chevron-right"></h1>
                    </div>



                </div>
                <!-- <div class="actions">
                    <button onclick="settingsPopupCancel();">Annuler</button>
                    <button onclick="settingsPopupSave();">Enregistrer</button>
                </div> -->

            </div>

            <div id="export-import-settings" class="popup" style="display: none;">
                <div class="settings-head">
                    <div class="settings-header-title">
                        <h2 class="settings-title" onclick="settingItemClicked(this)">Paramètres</h2>
                        <h2 class="settings-title-separator">></h2>
                        <h2 class="settings-window">Exporter/Importer Configuration</h2>
                    </div>

                    <button class="close-settings" onclick="closeAllSettingsPopups();"><span class="mdi mdi-close"></span></button>
                </div>

                <div class="content">
                    <div>
                        <h3>Exporter la Configuration</h3>
                        <button onclick="exportSettings();">Exporter</button>
                    </div>
                    <hr class="ligne">
                    <div>
                        <h3>Importer la Configuration</h3>
                        <button onclick="importSettings();">Importer</button>
                    </div>
                </div>
            </div>

            <div id="do-update-settings" class="popup" style="display: none;">
                <div class="settings-head">
                    <div class="settings-header-title">
                        <h2 class="settings-title" onclick="settingItemClicked(this)">Paramètres</h2>
                        <h2 class="settings-title-separator">></h2>
                        <h2 class="settings-window">Mises à Jours</h2>
                    </div>

                    <button class="close-settings" onclick="closeAllSettingsPopups();"><span class="mdi mdi-close"></span></button>
                </div>

                <div class="content">
                    <div>
                        <h3>Logiciel MacroPad</h3>
                        <h4>Version Actuelle: <span id="current-software-version"></span></h4>
                        <h4>Dernière Version: <span id="release-software-version"></span></h4>


                        <div class="update-info-item" id="update-available-settings" style="display: none;">
                            <h4 class="bold">Mise à jour disponible !</h4>
                            <button onclick="update.download();">Télécharger</button>
                        </div>

                        <div class="update-info-item" id="check-update-button">
                            <h4 class="bold"></h4>
                            <button onclick="update.GUICheck();">Vérifier les Mises à Jours</button>
                        </div>

                        <div class="update-info-item" id="download-progress-info" style="display: none;">
                            <h4 class="bold">Téléchargement en cours...</h4>
                            <h4 id="download-speed">0 MB/s</h4>
                            <h4 id="download-size"> 0 / ? MB</h4>
                            <div style="display: flex;align-items: center;justify-content: space-evenly;">
                                <progress id="download-progress" class="progress" max="100" value="0"></progress>
                                <h4 id="download-percent-text">0%</h4>
                            </div>
                            <button class="" onclick="update.retry();" id="retry-update" style="display: none;">Réessayer</button>
                        </div>


                        <div class="update-info-item" id="update-downloaded" style="display: none;">
                            <h4 class="bold">Mise à Jour Téléchargée !</h4>
                            <button onclick="update.doUpdate();">Mettre à Jour</button>
                        </div>

                        <h4 class="bold" id="update-error-text"></h4>




                    </div>
                    <hr class="ligne">
                    <div>
                        <h3>Firmware MacroPad</h3>
                        <h4 class="bold">Fonctionalité non implémenté</h4>

                        <h4>Version Actuelle: 1.0</h4>
                        <h4>Dernière Version: 1.0</h4>
                        <!-- <button onclick="">Vérifier les Mises à Jours</button> -->
                    </div>
                    <hr class="ligne">
                    <div>
                        <h3>Paramètres de Mises à Jours</h3>
                        <div class="horizontal-flex">
                            <input type="checkbox" id="auto-update" onclick="autoUpdate(this);">
                            <label for="auto-update">Mettre à Jour Automatiquement</label>
                        </div>

                    </div>
                </div>
            </div>

            <div id="hard-reset-settings" class="popup" style="display: none;">
                <div class="settings-head">
                    <div class="settings-header-title">
                        <h2 class="settings-title" onclick="settingItemClicked(this)">Paramètres</h2>
                        <h2 class="settings-title-separator">></h2>
                        <h2 class="settings-window">Réinitialiser le MacroPad</h2>
                    </div>

                    <button class="close-settings" onclick="closeAllSettingsPopups();"><span class="mdi mdi-close"></span></button>
                </div>

                <div class="content">
                    <h3 style="width: 600px;">Êtes vous sûrs de vouloir effacer la configuration du MacroPad et du logiciel ?</h3>
                    <h3 style="color: red;">Cette action est irréversible.</h3>
                    <button id="hard-reset-button" onclick="hardReset();">Effacer la configuration</button>
                </div>
            </div>


            <div id="about-settings" class="popup" style="display: none;">
                <div class="settings-head">
                    <div class="settings-header-title">
                        <h2 class="settings-title" onclick="settingItemClicked(this)">Paramètres</h2>
                        <h2 class="settings-title-separator">></h2>
                        <h2 class="settings-window">À Propos</h2>
                    </div>
                    <button class="close-settings" onclick="closeAllSettingsPopups();"><span class="mdi mdi-close"></span></button>
                </div>

                <div class="content">
                    <img src="../../imgs/icon.png" alt="logo" style="width: 100px">
                    <h3>MacroPad Software</h3>

                    <h4>Version:
                        <script>
                            document.write(IPC.sendSync("software-version"));
                        </script>
                    </h4>
                    <h4>Développé par: <a href="#" onclick="openLink('github.com/xmow49/')">Dorian Benech</a> & Noah Justeau</h4>
                    <h4>Copyright ©
                        <script>
                            document.write(new Date().getFullYear())
                        </script> GammaTroniques </h4>
                    <h4 onclick="IPC.send('open-link', 'mailto:contact@gammatroniques.fr');"><a href="#">contact@gammatroniques.fr</a></h4>
                    <h4 onclick="openLink('gammatroniques.fr')"><a href="#">https://gammatroniques.fr</a></h4>
                    <h4 onclick="openLink('youtube.com/gammatroniques')"><a href="#">https://youtube.com/gammatroniques</a></h4>
                </div>
            </div>
        </div>

    </div>
    <!-- <localized-text key="hello_world"></localized-text>
    <localized-text key="hello_world" lang="ja"></localized-text> -->
    <MdiIconPicker v-model="icon" :icons="icons" @select="onSelect"></MdiIconPicker>
</body>
<script src="downloaded_contents/colorPicker.js"></script>
<script src="downloaded_contents/localizer.js"></script>


<script src="port-mannager.js"></script>
<script src="settings.js"></script>

<script src="editProfile.js"></script>
<script src="keyboard.js"></script>
<script src="./js/update.js"></script>
<!-- <script type="module">
    import MdiIconPicker from '../../../node_modules/vue-mdi-icon-picker/src/index.js'
</script> -->

</html>